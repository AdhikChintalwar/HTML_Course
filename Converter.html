<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unit Converter</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="converter.js" defer></script>
  </head>
  <script>

var state;
function change1(int ){
    if(int==1){
        document.getElementById("inputKeyword").innerHTML="Kilogram:"
        document.getElementById("outputKeyword").innerHTML="Pounds:"

        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn0").style.backgroundColor='#fd7e14';
        document.getElementById("btn1").style.backgroundColor='';
        document.getElementById("btn2").style.backgroundColor='';
        document.getElementById("btn3").style.backgroundColor='';
        document.getElementById("btn4").style.backgroundColor='';
        document.getElementById("btn5").style.backgroundColor='';
    }

    else if(int==2){
        document.getElementById("inputKeyword").innerHTML="Pounds:"
        document.getElementById("outputKeyword").innerHTML="Kilograms:"
        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn1").style.backgroundColor='#fd7e14';
        document.getElementById("btn0").style.backgroundColor='';
        document.getElementById("btn2").style.backgroundColor='';
        document.getElementById("btn3").style.backgroundColor='';
        document.getElementById("btn4").style.backgroundColor='';
        document.getElementById("btn5").style.backgroundColor='';
    }
    else if(int==3){
        document.getElementById("inputKeyword").innerHTML="Kilometer:"
        document.getElementById("outputKeyword").innerHTML="Miles:"
        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn2").style.backgroundColor='#fd7e14';
        document.getElementById("btn0").style.backgroundColor='';
        document.getElementById("btn1").style.backgroundColor='';
        document.getElementById("btn3").style.backgroundColor='';
        document.getElementById("btn4").style.backgroundColor='';
        document.getElementById("btn5").style.backgroundColor='';
    }
    else if(int==4){
        document.getElementById("inputKeyword").innerHTML="Miles:"
        document.getElementById("outputKeyword").innerHTML="Kilometers:"
        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn3").style.backgroundColor='#fd7e14';
        document.getElementById("btn0").style.backgroundColor='';
        document.getElementById("btn2").style.backgroundColor='';
        document.getElementById("btn1").style.backgroundColor='';
        document.getElementById("btn4").style.backgroundColor='';
        document.getElementById("btn5").style.backgroundColor='';
    }
    else if(int==5){
        document.getElementById("inputKeyword").innerHTML="Fahrenheit:"
        document.getElementById("outputKeyword").innerHTML="Celsius:"
        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn4").style.backgroundColor='#fd7e14';
        document.getElementById("btn0").style.backgroundColor='';
        document.getElementById("btn2").style.backgroundColor='';
        document.getElementById("btn3").style.backgroundColor='';
        document.getElementById("btn1").style.backgroundColor='';
        document.getElementById("btn5").style.backgroundColor='';
    }
    else if(int==6){
        document.getElementById("inputKeyword").innerHTML="Celsius:"
        document.getElementById("outputKeyword").innerHTML="Fahrenheit:"
        document.getElementById("kgInput").value="";
        document.getElementById("poundsOutput").value=""
        document.getElementById("btn5").style.backgroundColor='#fd7e14';
        document.getElementById("btn0").style.backgroundColor='';
        document.getElementById("btn2").style.backgroundColor='';
        document.getElementById("btn3").style.backgroundColor='';
        document.getElementById("btn4").style.backgroundColor='';
        document.getElementById("btn1").style.backgroundColor='';
    }
}
   function kgToPounds() {
    let kg = document.getElementById("kgInput").value;
    document.getElementById("poundsOutput").value = (kg * 2.20462).toFixed(2);
}
function poundsToKg() {
        let pounds = document.getElementById("kgInput").value;    
    document.getElementById("poundsOutput").value = (pounds / 2.20462).toFixed(2);
}
function kmToMiles() {
    let km = document.getElementById("kgInput").value;    
    document.getElementById("poundsOutput").value = (km * 0.621371).toFixed(2);
}

function milesToKm() {
    let miles = document.getElementById("kgInput").value;    
    document.getElementById("poundsOutput").value = (miles / 0.621371).toFixed(2);
}
function fahrenheitToCelsius() {
    let fahrenheit = document.getElementById("kgInput").value;    
    document.getElementById("poundsOutput").value = ((fahrenheit - 32) * 5 / 9).toFixed(2);
}

function celsiusToFahrenheit() {
    let celsius = document.getElementById("kgInput").value;    
    document.getElementById("poundsOutput").value = ((celsius * 9 / 5) + 32).toFixed(2);
}

function hasOneDecimalPlace(num) {
    // Convert the number to a string
    let numStr = num.toString();

    console.log("inside check func" + numStr);

    // Check if the number contains a '.'
    if (numStr.includes('.')) {
        // Split the number at the decimal point
        let parts = numStr.split('.');
        
        // Check if the part after the decimal point has exactly one digit
        console.log(parts[1]);
        return parts[1].length === 1;
    }
    
    // If there's no decimal point, it can't have one decimal place
    return false;
}


function updateValue(val){
     document.getElementById("kgInput").value+=val;

    if(state==1){
        kgToPounds();
    }
    else if(state==2){
        poundsToKg();
    }
    else if(state==3){
        kmToMiles();
    }
    else if(state==4){
        milesToKm();
    }
    else if(state==5){
        fahrenheitToCelsius();
    }
    else if(state==6){
        celsiusToFahrenheit();
    }
}

function toDecimal() {
   let inputValue= document.getElementById("kgInput").value;
    inputValue= parseFloat(inputValue);
   document.getElementById("kgInput").value =(inputValue*1.0).toFixed(1);

    
}
function removeData(){
    document.getElementById("kgInput").value="";
    if(state==1){
        kgToPounds();

    }
    else if(state==2){
        poundsToKg();
    }
    else if(state==3){
        kmToMiles();
    }
    else if(state==4){
        milesToKm();
    }
    else if(state==5){
        fahrenheitToCelsius();
    }
    else if(state==6){
        celsiusToFahrenheit();
    }
}
    
  </script>
  <body>
    <div class="container mt-4 d-flex" style="justify-content: center;flex-direction: column;align-items: center;font-family: transforma;">
        <!-- Kg to Pounds & Pounds to Kg -->
        <div class="d-flex p-4" style="background-color: rgba(20, 20, 20, 0.646);width: 50%;height: 80vh;flex-direction: column;justify-content: center;border-radius: 45px;box-shadow: 10px;">
            <h1 class="text-center mb-4 text-white" style="font-family: transforma;">Unit Converter</h1>

            <h3 class="row d-flex" style="justify-content: space-evenly;">
            <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn0" onclick="state=1;change1(1)"><b>Kg -> Lb</b></span>
            <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn1" onclick="state=2;change1(2)"><b>Lb -> Kg</b></span>
            <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn2" onclick="state=3;change1(3)" ><b>Km -> Mi</b></span>
        </h3>
        <h3 class="row d-flex" style="justify-content: space-evenly;">
              <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn3" onclick="state=4;change1(4)"><b>Mi -> Km</b></span>
            <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn4" onclick="state=5;change1(5)" ><b>F -> C</b></span>
            <span class="btn col-3 text-white" style="border:1px solid black ;" id="btn5" onclick="state=6;change1(6)" ><b>C -> F</b></span>
        </h3>

          <form >
            <div class="form-group" >
                <div class="input-group" style="padding: 16px;">

                    <label class="input-group-text text-white" for="kgInput" id="inputKeyword" style="background-color: #fd7e14;">
                      Select conersion type:
                    </label>
                    <input
                      type="number"
                      class="form-control"
                      id="kgInput"
                      
                      oninput="if(state==1){
                          kgToPounds();
                  
                      }
                      else if(state==2){
                          poundsToKg();
                      }
                      else if(state==3){
                          kmToMiles();
                      }
                      else if(state==4){
                          milesToKm();
                      }
                      else if(state==5){
                          fahrenheitToCelsius();
                      }
                      else if(state==6){
                          celsiusToFahrenheit();
                      }
                      "
                    />
                    
                </div>
                <div class="form-group input-group" style="padding-left: 16px;padding-right: 16px;">
                        
                    <label class="input-group-text text-white" for="poundsOutput" id="outputKeyword" style="background-color: #fd7e14;">Converting into:</label>
                    <input
                      type="number"
                      class="form-control"
                      id="poundsOutput"
                    />
                  </div>
                
              <div class="row" style="justify-content: space-evenly;">
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(1)">
                <b>1</b>
            </div>
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(2)"><b>2</b></div>

                <div class="col-md-3 btn btn-secondary" onclick="updateValue(3)"><b>3</b></div>
              </div><br>
              <div class="row" style="justify-content: space-evenly;">
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(4)"><b>4</b></div>
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(5)"><b>5</b></div>

                <div class="col-md-3 btn btn-secondary" onclick="updateValue(6)"><b>6</b></div>
              </div><br>
              <div class="row" style="justify-content: space-evenly;">
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(7)"><b>7</b></div>
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(8)"><b>8</b></div>

                <div class="col-md-3 btn btn-secondary" onclick="updateValue(9)"><b>9</b></div>
              </div><br>
              <div class="row" style="justify-content: space-evenly;">
                <div class="col-md-3 btn btn-secondary" onclick="toDecimal()"><b>.</b></div>
                <div class="col-md-3 btn btn-secondary" onclick="updateValue(0)"><b>0</b></div>

                <div class="col-md-3 btn btn-secondary" onclick="removeData()"><b>C</b></div>
              </div>
            </div>
            
          </form>
        </div>
       
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
